# 步行导航功能说明

## 🎯 功能简介

现在你可以在应用中找到附近的休息地点，并一键启动步行导航！

## 🚀 如何使用

### 1️⃣ 选择你的状态
- 打开 Break Tab
- 选择你的感受（累了/焦虑/压力大等）
- 选择可用时间（5分钟/15分钟/30分钟等）

### 2️⃣ 查看休息计划
- 点击"Start"按钮
- 查看为你生成的个性化休息计划
- 找到包含"步行"活动的步骤

### 3️⃣ 打开地图
- 点击步行活动的"Navigate"按钮
- 地图会显示你的当前位置和附近的目的地

### 4️⃣ 选择目的地
- 横向滚动浏览附近的推荐地点
- 点击任意地点选择它
- 地图会自动计算步行路线

### 5️⃣ 开始导航
- 点击底部的"Navigate"按钮
- 系统会自动打开地图应用（Apple Maps 或 Google Maps）
- 开始步行导航！

## 📱 界面说明

### 地图界面元素
- **顶部信息栏**
  - ⏱ 预计步行时间
  - 📍 步行距离
  - ❌ 关闭按钮

- **地图区域**
  - 🔵 你的当前位置（蓝色圆点）
  - 📍 附近的目的地标记
  - 📈 步行路线（蓝色线条）

- **底部卡片**
  - 目的地名称和地址
  - 附近地点滚动列表
  - 操作按钮区域

### 操作按钮
- **Navigate（导航）**：启动步行导航
- **Voice Chat（语音聊天）**：与语音助手对话

## 💡 使用提示

### 获得最佳体验
1. ✅ 允许应用访问你的位置
2. ✅ 确保设备已连接网络
3. ✅ 在户外使用可获得更准确的GPS定位
4. ✅ 确保已安装地图应用：
   - iOS：Apple Maps（系统自带）
   - Android：Google Maps

### 导航模式
- 默认使用**步行模式**
- 路线经过优化适合行人
- 显示预计步行时间和距离

## 🔧 快速测试

### 方法1：使用测试脚本
```bash
cd /Users/ming/Documents/take-a-break
./scripts/test-navigation.sh
```

### 方法2：手动测试

**iOS测试：**
```bash
cd apps/mobile
pnpm ios
```

**Android测试：**
```bash
cd apps/mobile
pnpm android
```

## ❓ 常见问题

### Q: 点击导航按钮没反应？
**A:** 请检查：
- 设备是否安装了地图应用
- 是否已授予位置权限
- 网络连接是否正常

### Q: 导航目的地不准确？
**A:** 尝试：
- 在户外使用以获得更好的GPS信号
- 重新获取位置（关闭并重新打开地图）
- 检查设备的位置服务设置

### Q: 无法获取附近地点？
**A:** 检查：
- 网络连接是否正常
- API服务器是否运行
- 查看控制台日志了解详细错误

### Q: 想更换默认地图应用？
**A:** 在设备设置中修改：
- iOS：设置 > 地图 > 默认地图应用
- Android：设置 > 应用 > 默认应用 > 地图

## 🔍 技术细节

### 支持的平台
- ✅ iOS (iPhone/iPad)
- ✅ Android

### 导航应用
- **iOS**: 使用 Apple Maps
- **Android**: 使用 Google Maps

### 导航类型
- 🚶 步行（默认）
- 🚗 驾车（可扩展）
- 🚇 公共交通（可扩展）

## 📝 更新日志

### v1.0.0 - 初始版本
- ✨ 新增步行导航功能
- ✨ 集成原生地图应用
- ✨ 自动路线计算
- ✨ 附近地点推荐
- ✨ 实时距离和时间显示
- ✨ 友好的UI指引

## 📚 相关文档

- [完整功能指南](./NAVIGATION_FEATURE_GUIDE.md)（英文）
- [API文档](./packages/api-client/README.md)
- [地图服务文档](./services/map/README.md)

## 🙋 需要帮助？

如果遇到问题：
1. 查看控制台日志
2. 检查[完整功能指南](./NAVIGATION_FEATURE_GUIDE.md)的故障排除部分
3. 运行测试脚本进行诊断

## 🎉 开始使用

现在就打开应用，选择一个休息计划，让我们一起出去走走吧！

祝你有一个愉快的休息时光！ 🌟

